{"version":3,"sources":["../../server/routes/events.js"],"names":["eventsRouter","express","Router","post","validateEventInput","req","res","body","then","timestamp","catch"],"mappings":";;;;;;AAAA;;;;AACA;;AAGA;;AAIA;;;;;;AAGA,IAAMA,eAAeC,kBAAQC,MAAR,EAArB;;AAGAF,aAAaG,IAAb,CAAkB,GAAlB,EAAuBC,8BAAvB,EAA2C,UAACC,GAAD,EAAMC,GAAN,EAAc;AACvD;;AAEA,4BAAYD,IAAIE,IAAhB,EAAsBC,IAAtB,CAA2B,YAAM;AAC/B,6BAAaF,GAAb,EAAkB,GAAlB,eAAiCD,IAAIE,IAAJ,CAASE,SAA1C;AACD,GAFD,EAEGC,KAFH,CAES,YAAM;AACb;AACA,6BAAaJ,GAAb,EAAkB,GAAlB,EAAuB,IAAvB,EAA6B,uBAA7B;AACD,GALD;AAMD,CATD;;kBAYeN,Y","file":"events.js","sourcesContent":["import express from 'express';\r\nimport {\r\n  validateEventInput,\r\n} from '../helpers/validators';\r\nimport {\r\n  createEvent,\r\n} from '../crud/db-query';\r\n\r\nimport sendResponse from '../helpers/responses';\r\n\r\n\r\nconst eventsRouter = express.Router();\r\n\r\n\r\neventsRouter.post('/', validateEventInput, (req, res) => {\r\n  // query database\r\n\r\n  createEvent(req.body).then(() => {\r\n    sendResponse(res, 201, `event '${req.body.timestamp}' was successfully uploaded`);\r\n  }).catch(() => {\r\n    // console.log(e);\r\n    sendResponse(res, 500, null, 'Internal server error');\r\n  });\r\n});\r\n\r\n\r\nexport default eventsRouter;\r\n"]}